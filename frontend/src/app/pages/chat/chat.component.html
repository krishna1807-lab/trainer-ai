<div class="h-full flex flex-col bg-gradient-to-br from-gray-50 to-green-50/30 rounded-2xl">

  <!-- ⭐ CHAT MESSAGES -->
  <div
    #scrollContainer
    class="flex-1 overflow-y-auto px-4 md:px-8 py-6 space-y-6"
  >

    <div
      *ngFor="let msg of messages"
      class="flex"
      [ngClass]="msg.role === 'user' ? 'justify-end' : 'justify-start'"
    >

      <div
        class="max-w-[75%] rounded-2xl px-4 py-3 shadow-sm"
        [ngClass]="
          msg.role === 'user'
          ? 'bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-br-md'
          : 'bg-white border border-gray-100 text-gray-700 rounded-bl-md'
        "
      >

        <p class="text-sm whitespace-pre-line">{{ msg.content }}</p>

        <div class="text-[10px] mt-2 opacity-70 text-right">
          {{ msg.time }}
        </div>

      </div>

    </div>

  </div>

  <!-- ⭐ INPUT DOCK -->
  <div class="border-t border-green-100 bg-white/80 backdrop-blur-md p-3 md:p-4">

    <div class="flex items-center gap-3 bg-white border border-gray-200 rounded-2xl px-3 py-2 shadow-sm">

      <!-- ATTACH BUTTON -->
      <button
        (click)="fileInput.click()"
        class="p-2 rounded-xl hover:bg-green-50 transition"
      >
        <!-- Paperclip SVG -->
        <svg class="w-5 h-5 text-gray-500 hover:text-green-600"
          fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M21.44 11.05l-8.49 8.49a5.5 5.5 0 01-7.78-7.78l9.19-9.19
            a3.5 3.5 0 014.95 4.95l-9.19 9.19a1.5 1.5 0 01-2.12-2.12l8.49-8.49"/>
        </svg>
      </button>

      <input
        #fileInput
        type="file"
        hidden
        (change)="onFileSelected($event)"
      />

      <!-- TEXT INPUT -->
      <input
        [(ngModel)]="userInput"
        (keyup.enter)="sendMessage()"
        placeholder="Ask Scribex anything..."
        class="flex-1 bg-transparent outline-none text-sm px-2"
      />

      <!-- SEND BUTTON -->
      <button
        (click)="sendMessage()"
        class="bg-gradient-to-br from-green-500 to-emerald-600 text-white p-2 rounded-xl hover:shadow-md transition"
      >
        <!-- Send Arrow SVG -->
        <svg class="w-5 h-5" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </button>

    </div>

  </div>

</div>
